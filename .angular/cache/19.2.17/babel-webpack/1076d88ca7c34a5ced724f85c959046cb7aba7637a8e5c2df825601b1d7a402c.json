{"ast":null,"code":"import _asyncToGenerator from \"D:/form-builder-angular19-updated/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Store } from '@ngrx/store';\nimport { loadForms, resetData } from '../state/forms/forms.actions';\nimport { IndexedDBService } from '../core/services/indexeddb.service';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"../core/services/indexeddb.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction BuilderComponent_button_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_button_59_Template_button_click_0_listener() {\n      const i_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.currentPageIndex = i_r2);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const page_r4 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r2.currentPageIndex === i_r2);\n    i0.ɵɵattribute(\"aria-selected\", ctx_r2.currentPageIndex === i_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", page_r4.title, \" \");\n  }\n}\nfunction BuilderComponent_div_70_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 61);\n    i0.ɵɵtext(1, \"*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BuilderComponent_div_70_input_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 62);\n  }\n  if (rf & 2) {\n    const el_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"type\", el_r6.type)(\"placeholder\", el_r6.placeholder || \"\");\n  }\n}\nfunction BuilderComponent_div_70_textarea_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"textarea\", 63);\n  }\n  if (rf & 2) {\n    const el_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"placeholder\", el_r6.placeholder || \"\");\n  }\n}\nfunction BuilderComponent_div_70_select_19_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const opt_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(opt_r8);\n  }\n}\nfunction BuilderComponent_div_70_select_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"select\", 64);\n    i0.ɵɵtemplate(1, BuilderComponent_div_70_select_19_option_1_Template, 2, 1, \"option\", 65);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", el_r6.options);\n  }\n}\nfunction BuilderComponent_div_70_div_20_label_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 68);\n    i0.ɵɵelement(1, \"input\", 69);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const opt_r9 = ctx.$implicit;\n    const el_r6 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"name\", el_r6.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(opt_r9);\n  }\n}\nfunction BuilderComponent_div_70_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 66);\n    i0.ɵɵtemplate(1, BuilderComponent_div_70_div_20_label_1_Template, 4, 2, \"label\", 67);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", el_r6.options);\n  }\n}\nfunction BuilderComponent_div_70_label_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 70);\n    i0.ɵɵelement(1, \"input\", 71);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const el_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(el_r6.label);\n  }\n}\nfunction BuilderComponent_div_70_input_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 72);\n  }\n}\nfunction BuilderComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_70_Template_div_click_0_listener() {\n      const el_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectElement(el_r6));\n    });\n    i0.ɵɵelementStart(1, \"div\", 46)(2, \"span\", 47);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 48);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 49)(7, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_70_Template_button_click_7_listener($event) {\n      const i_r7 = i0.ɵɵrestoreView(_r5).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      ctx_r2.moveUp(i_r7);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵtext(8, \" up \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_70_Template_button_click_9_listener($event) {\n      const i_r7 = i0.ɵɵrestoreView(_r5).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      ctx_r2.moveDown(i_r7);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵtext(10, \" down \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_70_Template_button_click_11_listener($event) {\n      const i_r7 = i0.ɵɵrestoreView(_r5).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      ctx_r2.remove(i_r7);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵtext(12, \" delete \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 53)(14, \"label\");\n    i0.ɵɵtext(15);\n    i0.ɵɵtemplate(16, BuilderComponent_div_70_span_16_Template, 2, 0, \"span\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, BuilderComponent_div_70_input_17_Template, 1, 2, \"input\", 55)(18, BuilderComponent_div_70_textarea_18_Template, 1, 1, \"textarea\", 56)(19, BuilderComponent_div_70_select_19_Template, 2, 1, \"select\", 57)(20, BuilderComponent_div_70_div_20_Template, 2, 1, \"div\", 58)(21, BuilderComponent_div_70_label_21_Template, 4, 1, \"label\", 59)(22, BuilderComponent_div_70_input_22_Template, 1, 0, \"input\", 60);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const el_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"selected\", ctx_r2.selectedElement === el_r6);\n    i0.ɵɵattribute(\"aria-label\", \"Field: \" + el_r6.label);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(el_r6.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r6.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", i_r7 === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", i_r7 === ctx_r2.schema.pages[ctx_r2.currentPageIndex].elements.length - 1);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(el_r6.label);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r6.required);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r6.type === \"text\" || el_r6.type === \"number\" || el_r6.type === \"date\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r6.type === \"textarea\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r6.type === \"select\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r6.type === \"radio\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r6.type === \"checkbox\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r6.type === \"file\");\n  }\n}\nfunction BuilderComponent_div_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73)(1, \"p\");\n    i0.ɵɵtext(2, \"Drag fields from the palette or click to add fields to this page\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BuilderComponent_div_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74)(1, \"p\");\n    i0.ɵɵtext(2, \"Select a field to edit its properties\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BuilderComponent_div_76_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"label\");\n    i0.ɵɵtext(2, \"Options (comma-separated)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"textarea\", 82);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_div_23_Template_textarea_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.optionsText, $event) || (ctx_r2.selectedElement.optionsText = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"ngModelChange\", function BuilderComponent_div_76_div_23_Template_textarea_ngModelChange_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.updateOptions(ctx_r2.selectedElement));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.optionsText);\n  }\n}\nfunction BuilderComponent_div_76_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"label\");\n    i0.ɵɵtext(2, \"Min Length\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 83);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_div_24_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.validators.minLength, $event) || (ctx_r2.selectedElement.validators.minLength = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.validators.minLength);\n  }\n}\nfunction BuilderComponent_div_76_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"label\");\n    i0.ɵɵtext(2, \"Max Length\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 83);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_div_25_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.validators.maxLength, $event) || (ctx_r2.selectedElement.validators.maxLength = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.validators.maxLength);\n  }\n}\nfunction BuilderComponent_div_76_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"label\");\n    i0.ɵɵtext(2, \"Min Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 83);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_div_26_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.validators.min, $event) || (ctx_r2.selectedElement.validators.min = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.validators.min);\n  }\n}\nfunction BuilderComponent_div_76_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"label\");\n    i0.ɵɵtext(2, \"Max Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 83);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_div_27_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.validators.max, $event) || (ctx_r2.selectedElement.validators.max = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.validators.max);\n  }\n}\nfunction BuilderComponent_div_76_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"label\");\n    i0.ɵɵtext(2, \"Pattern (regex)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 84);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_div_28_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.validators.pattern, $event) || (ctx_r2.selectedElement.validators.pattern = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.validators.pattern);\n  }\n}\nfunction BuilderComponent_div_76_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"div\", 76)(2, \"label\");\n    i0.ɵɵtext(3, \"Field ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 77);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.id, $event) || (ctx_r2.selectedElement.id = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 76)(6, \"label\");\n    i0.ɵɵtext(7, \"Label\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 78);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.label, $event) || (ctx_r2.selectedElement.label = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 76)(10, \"label\");\n    i0.ɵɵtext(11, \"Placeholder\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 79);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.placeholder, $event) || (ctx_r2.selectedElement.placeholder = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 76)(14, \"label\", 70)(15, \"input\", 80);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.required, $event) || (ctx_r2.selectedElement.required = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\");\n    i0.ɵɵtext(17, \"Required\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"div\", 76)(19, \"label\", 70)(20, \"input\", 80);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_76_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedElement.disabled, $event) || (ctx_r2.selectedElement.disabled = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"span\");\n    i0.ɵɵtext(22, \"Disabled\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(23, BuilderComponent_div_76_div_23_Template, 4, 1, \"div\", 81)(24, BuilderComponent_div_76_div_24_Template, 4, 1, \"div\", 81)(25, BuilderComponent_div_76_div_25_Template, 4, 1, \"div\", 81)(26, BuilderComponent_div_76_div_26_Template, 4, 1, \"div\", 81)(27, BuilderComponent_div_76_div_27_Template, 4, 1, \"div\", 81)(28, BuilderComponent_div_76_div_28_Template, 4, 1, \"div\", 81);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.id);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.label);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.placeholder);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.required);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedElement.disabled);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedElement.type === \"select\" || ctx_r2.selectedElement.type === \"radio\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedElement.type === \"text\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedElement.type === \"text\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedElement.type === \"number\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedElement.type === \"number\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedElement.type === \"text\");\n  }\n}\nfunction BuilderComponent_div_81_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 85)(1, \"div\", 86)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 87);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_81_Template_button_click_4_listener() {\n      const i_r18 = i0.ɵɵrestoreView(_r17).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.removeRule(i_r18));\n    });\n    i0.ɵɵtext(5, \"\\uD83D\\uDDD1\\uFE0F\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 76)(7, \"label\");\n    i0.ɵɵtext(8, \"Condition\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 88);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_81_Template_input_ngModelChange_9_listener($event) {\n      const rule_r19 = i0.ɵɵrestoreView(_r17).$implicit;\n      i0.ɵɵtwoWayBindingSet(rule_r19.if, $event) || (rule_r19.if = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 76)(11, \"label\");\n    i0.ɵɵtext(12, \"Action\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"select\", 89);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_81_Template_select_ngModelChange_13_listener($event) {\n      const rule_r19 = i0.ɵɵrestoreView(_r17).$implicit;\n      i0.ɵɵtwoWayBindingSet(rule_r19.then[0].action, $event) || (rule_r19.then[0].action = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(14, \"option\", 90);\n    i0.ɵɵtext(15, \"Show\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 91);\n    i0.ɵɵtext(17, \"Hide\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"option\", 92);\n    i0.ɵɵtext(19, \"Enable\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"option\", 93);\n    i0.ɵɵtext(21, \"Disable\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 76)(23, \"label\");\n    i0.ɵɵtext(24, \"Target Field ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"input\", 94);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_81_Template_input_ngModelChange_25_listener($event) {\n      const rule_r19 = i0.ɵɵrestoreView(_r17).$implicit;\n      i0.ɵɵtwoWayBindingSet(rule_r19.then[0].target, $event) || (rule_r19.then[0].target = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const rule_r19 = ctx.$implicit;\n    const i_r18 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Rule \", i_r18 + 1, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", rule_r19.if);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", rule_r19.then[0].action);\n    i0.ɵɵadvance(12);\n    i0.ɵɵtwoWayProperty(\"ngModel\", rule_r19.then[0].target);\n  }\n}\nfunction BuilderComponent_div_88_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 95)(1, \"div\", 96)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 87);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_88_Template_button_click_4_listener() {\n      const i_r21 = i0.ɵɵrestoreView(_r20).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.removeComputed(i_r21));\n    });\n    i0.ɵɵtext(5, \"\\uD83D\\uDDD1\\uFE0F\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 76)(7, \"label\");\n    i0.ɵɵtext(8, \"Target Field ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 94);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_88_Template_input_ngModelChange_9_listener($event) {\n      const comp_r22 = i0.ɵɵrestoreView(_r20).$implicit;\n      i0.ɵɵtwoWayBindingSet(comp_r22.target, $event) || (comp_r22.target = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 76)(11, \"label\");\n    i0.ɵɵtext(12, \"Expression\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"textarea\", 97);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_88_Template_textarea_ngModelChange_13_listener($event) {\n      const comp_r22 = i0.ɵɵrestoreView(_r20).$implicit;\n      i0.ɵɵtwoWayBindingSet(comp_r22.expr, $event) || (comp_r22.expr = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const comp_r22 = ctx.$implicit;\n    const i_r21 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Computed \", i_r21 + 1, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", comp_r22.target);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", comp_r22.expr);\n  }\n}\nexport let BuilderComponent = /*#__PURE__*/(() => {\n  class BuilderComponent {\n    constructor(store, db) {\n      this.store = store;\n      this.db = db;\n      this.schema = {\n        title: 'New Form',\n        pages: [{\n          id: 'page-1',\n          title: 'Page 1',\n          elements: []\n        }],\n        rules: [],\n        computed: []\n      };\n      this.currentPageIndex = 0;\n      this.selectedElement = null;\n    }\n    ngOnInit() {\n      this.store.dispatch(loadForms());\n    }\n    addField(type) {\n      const id = 'f' + Date.now();\n      const el = {\n        id,\n        type,\n        label: type.charAt(0).toUpperCase() + type.slice(1) + ' Field',\n        placeholder: '',\n        required: false,\n        disabled: false,\n        validators: {}\n      };\n      if (type === 'select' || type === 'radio') {\n        el.options = ['Option 1', 'Option 2', 'Option 3'];\n        el.optionsText = el.options.join(', ');\n      }\n      this.schema.pages[this.currentPageIndex].elements.push(el);\n    }\n    selectElement(element) {\n      this.selectedElement = element;\n      if (element.options && !element.optionsText) {\n        element.optionsText = element.options.join(', ');\n      }\n      if (!element.validators) {\n        element.validators = {};\n      }\n    }\n    updateOptions(el) {\n      el.options = (el.optionsText || '').split(',').map(s => s.trim()).filter(Boolean);\n    }\n    remove(i) {\n      const removed = this.schema.pages[this.currentPageIndex].elements[i];\n      if (this.selectedElement === removed) {\n        this.selectedElement = null;\n      }\n      this.schema.pages[this.currentPageIndex].elements.splice(i, 1);\n    }\n    moveUp(i) {\n      if (i > 0) {\n        const elements = this.schema.pages[this.currentPageIndex].elements;\n        [elements[i - 1], elements[i]] = [elements[i], elements[i - 1]];\n      }\n    }\n    moveDown(i) {\n      const elements = this.schema.pages[this.currentPageIndex].elements;\n      if (i < elements.length - 1) {\n        [elements[i], elements[i + 1]] = [elements[i + 1], elements[i]];\n      }\n    }\n    save() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const form = {\n          id: 'form-' + Date.now(),\n          name: _this.schema.title || 'Untitled',\n          version: '1.0.0',\n          schema: _this.schema,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString()\n        };\n        try {\n          yield _this.db.saveForm(form);\n          _this.store.dispatch(loadForms());\n          alert('Form saved successfully! ID: ' + form.id);\n        } catch (e) {\n          alert('Failed to save form');\n        }\n      })();\n    }\n    loadExisting() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const forms = yield _this2.db.getAllForms();\n        if (forms.length > 0) {\n          const form = forms[0];\n          _this2.schema = form.schema;\n          _this2.currentPageIndex = 0;\n          _this2.selectedElement = null;\n          alert('Loaded form: ' + form.name);\n        } else {\n          alert('No forms found. Create one first!');\n        }\n      })();\n    }\n    addPage() {\n      const id = 'page-' + (this.schema.pages.length + 1);\n      this.schema.pages.push({\n        id,\n        title: 'Page ' + (this.schema.pages.length + 1),\n        elements: []\n      });\n    }\n    addRule() {\n      this.schema.rules.push({\n        if: '',\n        then: [{\n          action: 'show',\n          target: ''\n        }]\n      });\n    }\n    removeRule(index) {\n      this.schema.rules.splice(index, 1);\n    }\n    addComputed() {\n      this.schema.computed.push({\n        target: '',\n        expr: '',\n        dependencies: []\n      });\n    }\n    removeComputed(index) {\n      this.schema.computed.splice(index, 1);\n    }\n    resetDemo() {\n      if (confirm('Are you sure you want to reset all data? This will clear all forms and submissions and reload seed data.')) {\n        this.store.dispatch(resetData());\n      }\n    }\n    static {\n      this.ɵfac = function BuilderComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || BuilderComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.IndexedDBService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: BuilderComponent,\n        selectors: [[\"app-builder\"]],\n        decls: 91,\n        vars: 10,\n        consts: [[1, \"builder-container\"], [1, \"builder-header\"], [1, \"header-actions\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"builder-layout\"], [1, \"palette-sidebar\"], [1, \"field-palette\"], [\"tabindex\", \"0\", \"role\", \"button\", \"aria-label\", \"Add text field\", 1, \"palette-item\", 3, \"click\"], [1, \"palette-icon\"], [\"tabindex\", \"0\", \"role\", \"button\", \"aria-label\", \"Add textarea field\", 1, \"palette-item\", 3, \"click\"], [\"tabindex\", \"0\", \"role\", \"button\", \"aria-label\", \"Add number field\", 1, \"palette-item\", 3, \"click\"], [1, \"fa-solid\", \"fa-trash\"], [\"tabindex\", \"0\", \"role\", \"button\", \"aria-label\", \"Add date field\", 1, \"palette-item\", 3, \"click\"], [\"tabindex\", \"0\", \"role\", \"button\", \"aria-label\", \"Add select field\", 1, \"palette-item\", 3, \"click\"], [1, \"fa-solid\", \"fa-list\"], [\"tabindex\", \"0\", \"role\", \"button\", \"aria-label\", \"Add radio field\", 1, \"palette-item\", 3, \"click\"], [1, \"fa-solid\", \"fa-circle\"], [\"tabindex\", \"0\", \"role\", \"button\", \"aria-label\", \"Add checkbox field\", 1, \"palette-item\", 3, \"click\"], [1, \"fa-solid\", \"fa-check\"], [\"tabindex\", \"0\", \"role\", \"button\", \"aria-label\", \"Add file field\", 1, \"palette-item\", 3, \"click\"], [1, \"fa-solid\", \"fa-file\"], [1, \"canvas-area\"], [1, \"form-settings\"], [\"type\", \"text\", \"placeholder\", \"Enter form title\", \"aria-label\", \"Form title\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"pages-tabs\"], [\"class\", \"page-tab\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"aria-label\", \"Add new page\", 1, \"page-tab\", \"add-page\", 3, \"click\"], [1, \"canvas-content\"], [1, \"page-title-edit\"], [\"type\", \"text\", \"placeholder\", \"Enter page title\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"form-elements\"], [\"class\", \"form-element\", \"tabindex\", \"0\", \"role\", \"button\", 3, \"selected\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"empty-canvas\", 4, \"ngIf\"], [1, \"properties-sidebar\"], [\"class\", \"no-selection\", 4, \"ngIf\"], [\"class\", \"properties-form\", 4, \"ngIf\"], [1, \"rules-section\"], [1, \"rules-list\"], [\"class\", \"rule-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"computed-section\"], [1, \"computed-list\"], [\"class\", \"computed-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"page-tab\", 3, \"click\"], [\"tabindex\", \"0\", \"role\", \"button\", 1, \"form-element\", 3, \"click\"], [1, \"element-header\"], [1, \"element-type-badge\"], [1, \"element-label\"], [1, \"element-actions\"], [\"aria-label\", \"Move up\", 1, \"btn-icon\", 3, \"click\", \"disabled\"], [\"aria-label\", \"Move down\", 1, \"btn-icon\", 3, \"click\", \"disabled\"], [\"aria-label\", \"Delete field\", 1, \"btn-icon\", \"btn-danger\", 3, \"click\"], [1, \"element-preview\"], [\"class\", \"required\", 4, \"ngIf\"], [\"disabled\", \"\", \"class\", \"form-control\", 3, \"type\", \"placeholder\", 4, \"ngIf\"], [\"disabled\", \"\", \"class\", \"form-control\", 3, \"placeholder\", 4, \"ngIf\"], [\"disabled\", \"\", \"class\", \"form-control\", 4, \"ngIf\"], [\"class\", \"radio-group\", 4, \"ngIf\"], [\"class\", \"checkbox-label\", 4, \"ngIf\"], [\"type\", \"file\", \"disabled\", \"\", \"class\", \"form-control\", 4, \"ngIf\"], [1, \"required\"], [\"disabled\", \"\", 1, \"form-control\", 3, \"type\", \"placeholder\"], [\"disabled\", \"\", 1, \"form-control\", 3, \"placeholder\"], [\"disabled\", \"\", 1, \"form-control\"], [4, \"ngFor\", \"ngForOf\"], [1, \"radio-group\"], [\"class\", \"radio-label\", 4, \"ngFor\", \"ngForOf\"], [1, \"radio-label\"], [\"type\", \"radio\", \"disabled\", \"\", 3, \"name\"], [1, \"checkbox-label\"], [\"type\", \"checkbox\", \"disabled\", \"\"], [\"type\", \"file\", \"disabled\", \"\", 1, \"form-control\"], [1, \"empty-canvas\"], [1, \"no-selection\"], [1, \"properties-form\"], [1, \"form-group\"], [\"type\", \"text\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Enter field label\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Enter placeholder text\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"checkbox\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"form-group\", 4, \"ngIf\"], [\"rows\", \"3\", \"placeholder\", \"Option 1, Option 2, Option 3\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"^[a-zA-Z]+$\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"rule-item\"], [1, \"rule-header\"], [1, \"btn-icon\", \"btn-danger\", 3, \"click\"], [\"type\", \"text\", \"placeholder\", \"e.g., f3 === 'Other'\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"show\"], [\"value\", \"hide\"], [\"value\", \"enable\"], [\"value\", \"disable\"], [\"type\", \"text\", \"placeholder\", \"Field ID\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"computed-item\"], [1, \"computed-header\"], [\"rows\", \"2\", \"placeholder\", \"e.g., f6 * 12\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"]],\n        template: function BuilderComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n            i0.ɵɵtext(3, \"Form Builder\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 2)(5, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_5_listener() {\n              return ctx.loadExisting();\n            });\n            i0.ɵɵtext(6, \"Load Existing\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"button\", 4);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_7_listener() {\n              return ctx.save();\n            });\n            i0.ɵɵtext(8, \"Save Form\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_9_listener() {\n              return ctx.resetDemo();\n            });\n            i0.ɵɵtext(10, \"Reset Demo Data\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(11, \"div\", 6)(12, \"div\", 7)(13, \"h3\");\n            i0.ɵɵtext(14, \"Field Types\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"div\", 8)(16, \"div\", 9);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_div_click_16_listener() {\n              return ctx.addField(\"text\");\n            });\n            i0.ɵɵelement(17, \"span\", 10);\n            i0.ɵɵelementStart(18, \"span\");\n            i0.ɵɵtext(19, \"Text\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 11);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_div_click_20_listener() {\n              return ctx.addField(\"textarea\");\n            });\n            i0.ɵɵelement(21, \"span\", 10);\n            i0.ɵɵelementStart(22, \"span\");\n            i0.ɵɵtext(23, \"Textarea\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(24, \"div\", 12);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_div_click_24_listener() {\n              return ctx.addField(\"number\");\n            });\n            i0.ɵɵelementStart(25, \"span\", 10);\n            i0.ɵɵelement(26, \"i\", 13);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"span\");\n            i0.ɵɵtext(28, \"Number\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(29, \"div\", 14);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_div_click_29_listener() {\n              return ctx.addField(\"date\");\n            });\n            i0.ɵɵelement(30, \"span\", 10);\n            i0.ɵɵelementStart(31, \"span\");\n            i0.ɵɵtext(32, \"Date\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(33, \"div\", 15);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_div_click_33_listener() {\n              return ctx.addField(\"select\");\n            });\n            i0.ɵɵelementStart(34, \"span\", 10);\n            i0.ɵɵelement(35, \"i\", 16);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"span\");\n            i0.ɵɵtext(37, \"Select\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(38, \"div\", 17);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_div_click_38_listener() {\n              return ctx.addField(\"radio\");\n            });\n            i0.ɵɵelementStart(39, \"span\", 10);\n            i0.ɵɵelement(40, \"i\", 18);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"span\");\n            i0.ɵɵtext(42, \"Radio\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(43, \"div\", 19);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_div_click_43_listener() {\n              return ctx.addField(\"checkbox\");\n            });\n            i0.ɵɵelementStart(44, \"span\", 10);\n            i0.ɵɵelement(45, \"i\", 20);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(46, \"span\");\n            i0.ɵɵtext(47, \"Checkbox\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(48, \"div\", 21);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_div_click_48_listener() {\n              return ctx.addField(\"file\");\n            });\n            i0.ɵɵelementStart(49, \"span\", 10);\n            i0.ɵɵelement(50, \"i\", 22);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(51, \"span\");\n            i0.ɵɵtext(52, \"File\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(53, \"div\", 23)(54, \"div\", 24)(55, \"label\");\n            i0.ɵɵtext(56, \" Form Title: \");\n            i0.ɵɵelementStart(57, \"input\", 25);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_Template_input_ngModelChange_57_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.schema.title, $event) || (ctx.schema.title = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(58, \"div\", 26);\n            i0.ɵɵtemplate(59, BuilderComponent_button_59_Template, 2, 4, \"button\", 27);\n            i0.ɵɵelementStart(60, \"button\", 28);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_60_listener() {\n              return ctx.addPage();\n            });\n            i0.ɵɵtext(61, \" + Add Page \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(62, \"div\", 29)(63, \"h3\");\n            i0.ɵɵtext(64);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(65, \"div\", 30)(66, \"label\");\n            i0.ɵɵtext(67, \" Page Title: \");\n            i0.ɵɵelementStart(68, \"input\", 31);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_Template_input_ngModelChange_68_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.schema.pages[ctx.currentPageIndex].title, $event) || (ctx.schema.pages[ctx.currentPageIndex].title = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(69, \"div\", 32);\n            i0.ɵɵtemplate(70, BuilderComponent_div_70_Template, 23, 15, \"div\", 33)(71, BuilderComponent_div_71_Template, 3, 0, \"div\", 34);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(72, \"div\", 35)(73, \"h3\");\n            i0.ɵɵtext(74, \"Properties\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(75, BuilderComponent_div_75_Template, 3, 0, \"div\", 36)(76, BuilderComponent_div_76_Template, 29, 11, \"div\", 37);\n            i0.ɵɵelementStart(77, \"div\", 38)(78, \"h3\");\n            i0.ɵɵtext(79, \"Conditional Rules\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(80, \"div\", 39);\n            i0.ɵɵtemplate(81, BuilderComponent_div_81_Template, 26, 4, \"div\", 40);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(82, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_82_listener() {\n              return ctx.addRule();\n            });\n            i0.ɵɵtext(83, \"+ Add Rule\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(84, \"div\", 41)(85, \"h3\");\n            i0.ɵɵtext(86, \"Computed Fields\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(87, \"div\", 42);\n            i0.ɵɵtemplate(88, BuilderComponent_div_88_Template, 14, 3, \"div\", 43);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(89, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_89_listener() {\n              return ctx.addComputed();\n            });\n            i0.ɵɵtext(90, \"+ Add Computed Field\");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(57);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.schema.title);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.schema.pages);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate((ctx.schema.pages[ctx.currentPageIndex] == null ? null : ctx.schema.pages[ctx.currentPageIndex].title) || \"Page\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.schema.pages[ctx.currentPageIndex].title);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.schema.pages[ctx.currentPageIndex] == null ? null : ctx.schema.pages[ctx.currentPageIndex].elements);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !(ctx.schema.pages[ctx.currentPageIndex] == null ? null : ctx.schema.pages[ctx.currentPageIndex].elements == null ? null : ctx.schema.pages[ctx.currentPageIndex].elements.length));\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", !ctx.selectedElement);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedElement);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.schema.rules);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.schema.computed);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, i3.NgIf, ReactiveFormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.CheckboxControlValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, FormsModule, i4.NgModel],\n        styles: [\".builder-container[_ngcontent-%COMP%]{padding:16px}.builder-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.builder-layout[_ngcontent-%COMP%]{display:flex;gap:16px}.palette-sidebar[_ngcontent-%COMP%], .properties-sidebar[_ngcontent-%COMP%]{width:240px;border:1px solid #ddd;background:#fff;padding:12px}.canvas-area[_ngcontent-%COMP%]{flex:1;border:1px solid #ddd;background:#fff;padding:12px}.field-palette[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.palette-item[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;background:#f7f7f7;cursor:pointer}.pages-tabs[_ngcontent-%COMP%]{margin:12px 0}.page-tab[_ngcontent-%COMP%]{display:inline-block;margin-right:8px;padding:6px 10px;border:1px solid #ccc;background:#f7f7f7;cursor:pointer}.page-tab.active[_ngcontent-%COMP%]{background:#e6f0ff;border-color:#8db3ff}.form-elements[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.form-element[_ngcontent-%COMP%]{border:1px solid #eee;padding:10px}.element-actions[_ngcontent-%COMP%]{display:flex;gap:6px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ccc;background:#f7f7f7;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:#4a90e2;color:#fff;border-color:#4a90e2}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border-color:#6c757d}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border-color:#dc3545}@media (max-width: 900px){.builder-layout[_ngcontent-%COMP%]{flex-direction:column}.palette-sidebar[_ngcontent-%COMP%], .properties-sidebar[_ngcontent-%COMP%], .canvas-area[_ngcontent-%COMP%]{width:100%}}.builder-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:#f5f7fa}.builder-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background:#fff;border-bottom:1px solid #e1e4e8;box-shadow:0 2px 4px #0000000d}.builder-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:1.5rem}.builder-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.builder-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:250px 1fr 300px;gap:1rem;height:calc(100vh - 80px);overflow:hidden;padding:1rem}.palette-sidebar[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #00000014;overflow-y:auto}.palette-sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#2c3e50;font-size:1.1rem;font-weight:600}.field-palette[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.palette-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem;background:#f8f9fa;border:2px solid #e9ecef;border-radius:6px;cursor:pointer;transition:all .2s ease;font-size:.9rem;font-weight:500;color:#495057}.palette-item[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#4a90e2;transform:translateY(-2px);box-shadow:0 4px 8px #4a90e226}.palette-item[_ngcontent-%COMP%]:focus{outline:2px solid #4a90e2;outline-offset:2px}.palette-item[_ngcontent-%COMP%]   .palette-icon[_ngcontent-%COMP%]{font-size:1.5rem}.canvas-area[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #00000014;overflow-y:auto;display:flex;flex-direction:column;gap:1rem}.form-settings[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:1px solid #e9ecef}.form-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;font-weight:600;color:#2c3e50}.pages-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.page-tab[_ngcontent-%COMP%]{padding:.625rem 1.25rem;background:#f8f9fa;border:1px solid #dee2e6;border-bottom:none;border-radius:6px 6px 0 0;cursor:pointer;transition:all .2s ease;font-weight:500;color:#495057}.page-tab[_ngcontent-%COMP%]:hover{background:#e9ecef}.page-tab.active[_ngcontent-%COMP%]{background:#4a90e2;color:#fff;border-color:#4a90e2}.page-tab.add-page[_ngcontent-%COMP%]{background:transparent;border:2px dashed #dee2e6;color:#6c757d}.page-tab.add-page[_ngcontent-%COMP%]:hover{border-color:#4a90e2;color:#4a90e2;background:#f0f7ff}.canvas-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.canvas-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#2c3e50;font-size:1.2rem}.page-title-edit[_ngcontent-%COMP%]{margin-bottom:1.5rem}.page-title-edit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;font-weight:600;color:#495057}.form-elements[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-element[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:8px;padding:1rem;background:#fff;transition:all .2s ease;cursor:pointer}.form-element[_ngcontent-%COMP%]:hover{border-color:#4a90e2;box-shadow:0 4px 12px #4a90e226}.form-element.selected[_ngcontent-%COMP%]{border-color:#4a90e2;background:#f0f7ff;box-shadow:0 4px 12px #4a90e233}.form-element[_ngcontent-%COMP%]:focus{outline:2px solid #4a90e2;outline-offset:2px}.element-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.element-type-badge[_ngcontent-%COMP%]{padding:.25rem .625rem;background:#e9ecef;border-radius:4px;font-size:.75rem;font-weight:600;text-transform:uppercase;color:#495057}.element-label[_ngcontent-%COMP%]{flex:1;font-weight:600;color:#2c3e50}.element-actions[_ngcontent-%COMP%]{display:flex;gap:.25rem}.element-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#495057}.element-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc3545;margin-left:.25rem}.radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.radio-label[_ngcontent-%COMP%], .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-weight:400}.radio-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .radio-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .checkbox-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}.empty-canvas[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:#6c757d;border:2px dashed #dee2e6;border-radius:8px;background:#f8f9fa}.empty-canvas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.properties-sidebar[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #00000014;overflow-y:auto}.properties-sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#2c3e50;font-size:1.1rem;font-weight:600}.no-selection[_ngcontent-%COMP%]{padding:2rem 1rem;text-align:center;color:#6c757d;background:#f8f9fa;border-radius:6px}.no-selection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.properties-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#495057;font-size:.875rem}.form-group[_ngcontent-%COMP%]   label.checkbox-label[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:.5rem;font-weight:500;cursor:pointer}.form-group[_ngcontent-%COMP%]   label.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}.rules-section[_ngcontent-%COMP%], .computed-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:2px solid #e9ecef}.rules-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .computed-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#2c3e50;font-size:1rem;font-weight:600}.rules-list[_ngcontent-%COMP%], .computed-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1rem}.rule-item[_ngcontent-%COMP%], .computed-item[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border:1px solid #dee2e6;border-radius:6px}.rule-header[_ngcontent-%COMP%], .computed-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #dee2e6}.rule-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .computed-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#495057}.form-control[_ngcontent-%COMP%]{padding:.625rem .875rem;border:1px solid #ced4da;border-radius:6px;font-size:.9rem;transition:all .2s ease;font-family:inherit}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#4a90e2;box-shadow:0 0 0 3px #4a90e21a}.form-control[_ngcontent-%COMP%]:disabled{background:#e9ecef;cursor:not-allowed}select.form-control[_ngcontent-%COMP%]{cursor:pointer}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.btn[_ngcontent-%COMP%]{padding:.625rem 1.25rem;border:none;border-radius:6px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s ease;font-family:inherit}.btn[_ngcontent-%COMP%]:focus{outline:2px solid currentColor;outline-offset:2px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:#4a90e2;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#357abd;box-shadow:0 4px 12px #4a90e24d}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268;box-shadow:0 4px 12px #6c757d4d}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#c82333;box-shadow:0 4px 12px #dc35454d}.btn-icon[_ngcontent-%COMP%]{padding:.25rem .5rem;background:#f8f9fa;border:1px solid #dee2e6;border-radius:4px;font-size:1rem;cursor:pointer;transition:all .2s ease}.btn-icon[_ngcontent-%COMP%]:hover:not(:disabled){background:#e9ecef;border-color:#adb5bd}.btn-icon[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-icon.btn-danger[_ngcontent-%COMP%]{background:#f8d7da;border-color:#f5c6cb;color:#dc3545}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#f1b0b7;border-color:#ea868f}@media (max-width: 1200px){.builder-layout[_ngcontent-%COMP%]{grid-template-columns:200px 1fr 280px}}@media (max-width: 992px){.builder-layout[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:auto 1fr}.palette-sidebar[_ngcontent-%COMP%]{max-height:200px}.properties-sidebar[_ngcontent-%COMP%]{display:none}}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid #4a90e2;outline-offset:2px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f3f5;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#adb5bd;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#868e96}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return BuilderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}