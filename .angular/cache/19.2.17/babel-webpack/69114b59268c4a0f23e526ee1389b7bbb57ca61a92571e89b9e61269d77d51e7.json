{"ast":null,"code":"import _asyncToGenerator from \"D:/form-builder-angular19-updated/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Store } from '@ngrx/store';\nimport { loadForms, resetData } from '../state/forms/forms.actions';\nimport { IndexedDBService } from '../core/services/indexeddb.service';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DragDropModule, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { ThemeService } from '../core/services/theme.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"../core/services/indexeddb.service\";\nimport * as i3 from \"../core/services/theme.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/cdk/drag-drop\";\nconst _c0 = () => [];\nfunction BuilderComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"span\", 34);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const fieldType_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"cdkDragData\", fieldType_r1);\n    i0.ɵɵattribute(\"aria-label\", \"Add \" + fieldType_r1.label + \" field\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fieldType_r1.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fieldType_r1.label);\n  }\n}\nfunction BuilderComponent_button_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_button_29_Template_button_click_0_listener() {\n      const i_r3 = i0.ɵɵrestoreView(_r2).index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.currentPageIndex = i_r3);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const page_r5 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r3.currentPageIndex === i_r3);\n    i0.ɵɵattribute(\"aria-selected\", ctx_r3.currentPageIndex === i_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", page_r5.title, \" \");\n  }\n}\nfunction BuilderComponent_div_40_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 52);\n    i0.ɵɵtext(1, \"*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BuilderComponent_div_40_input_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 53);\n  }\n  if (rf & 2) {\n    const el_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"type\", el_r7.type)(\"placeholder\", el_r7.placeholder || \"\");\n  }\n}\nfunction BuilderComponent_div_40_textarea_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"textarea\", 54);\n  }\n  if (rf & 2) {\n    const el_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"placeholder\", el_r7.placeholder || \"\");\n  }\n}\nfunction BuilderComponent_div_40_select_19_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const opt_r9 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(opt_r9);\n  }\n}\nfunction BuilderComponent_div_40_select_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"select\", 55);\n    i0.ɵɵtemplate(1, BuilderComponent_div_40_select_19_option_1_Template, 2, 1, \"option\", 56);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", el_r7.options);\n  }\n}\nfunction BuilderComponent_div_40_div_20_label_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 59);\n    i0.ɵɵelement(1, \"input\", 60);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const opt_r10 = ctx.$implicit;\n    const el_r7 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"name\", el_r7.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(opt_r10);\n  }\n}\nfunction BuilderComponent_div_40_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtemplate(1, BuilderComponent_div_40_div_20_label_1_Template, 4, 2, \"label\", 58);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", el_r7.options);\n  }\n}\nfunction BuilderComponent_div_40_label_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 61);\n    i0.ɵɵelement(1, \"input\", 62);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const el_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(el_r7.label);\n  }\n}\nfunction BuilderComponent_div_40_input_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 63);\n  }\n}\nfunction BuilderComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_40_Template_div_click_0_listener() {\n      const el_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.selectElement(el_r7));\n    })(\"keydown\", function BuilderComponent_div_40_Template_div_keydown_0_listener($event) {\n      const i_r8 = i0.ɵɵrestoreView(_r6).index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onKeyDown($event, i_r8));\n    });\n    i0.ɵɵelementStart(1, \"div\", 37)(2, \"span\", 38);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 39);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 40)(7, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_40_Template_button_click_7_listener($event) {\n      const i_r8 = i0.ɵɵrestoreView(_r6).index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      ctx_r3.moveUp(i_r8);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵtext(8, \" \\u2191 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_40_Template_button_click_9_listener($event) {\n      const i_r8 = i0.ɵɵrestoreView(_r6).index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      ctx_r3.moveDown(i_r8);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵtext(10, \" \\u2193 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_40_Template_button_click_11_listener($event) {\n      const i_r8 = i0.ɵɵrestoreView(_r6).index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      ctx_r3.remove(i_r8);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵtext(12, \" \\u00D7 \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 44)(14, \"label\");\n    i0.ɵɵtext(15);\n    i0.ɵɵtemplate(16, BuilderComponent_div_40_span_16_Template, 2, 0, \"span\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, BuilderComponent_div_40_input_17_Template, 1, 2, \"input\", 46)(18, BuilderComponent_div_40_textarea_18_Template, 1, 1, \"textarea\", 47)(19, BuilderComponent_div_40_select_19_Template, 2, 1, \"select\", 48)(20, BuilderComponent_div_40_div_20_Template, 2, 1, \"div\", 49)(21, BuilderComponent_div_40_label_21_Template, 4, 1, \"label\", 50)(22, BuilderComponent_div_40_input_22_Template, 1, 0, \"input\", 51);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const el_r7 = ctx.$implicit;\n    const i_r8 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"selected\", ctx_r3.selectedElement === el_r7);\n    i0.ɵɵattribute(\"aria-label\", \"Field: \" + el_r7.label + \", position \" + (i_r8 + 1) + \" of \" + ctx_r3.schema.pages[ctx_r3.currentPageIndex].elements.length);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(el_r7.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r7.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", i_r8 === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", i_r8 === ctx_r3.schema.pages[ctx_r3.currentPageIndex].elements.length - 1);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(el_r7.label);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r7.required);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r7.type === \"text\" || el_r7.type === \"number\" || el_r7.type === \"date\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r7.type === \"textarea\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r7.type === \"select\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r7.type === \"radio\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r7.type === \"checkbox\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", el_r7.type === \"file\");\n  }\n}\nfunction BuilderComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64)(1, \"p\");\n    i0.ɵɵtext(2, \"Drag fields from the palette or click to add fields to this page\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BuilderComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"p\");\n    i0.ɵɵtext(2, \"Select a field to edit its properties\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BuilderComponent_div_46_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 67)(1, \"label\");\n    i0.ɵɵtext(2, \"Options (comma-separated)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"textarea\", 73);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_div_23_Template_textarea_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.optionsText, $event) || (ctx_r3.selectedElement.optionsText = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"ngModelChange\", function BuilderComponent_div_46_div_23_Template_textarea_ngModelChange_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.updateOptions(ctx_r3.selectedElement));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.optionsText);\n  }\n}\nfunction BuilderComponent_div_46_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 67)(1, \"label\");\n    i0.ɵɵtext(2, \"Min Length\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 74);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_div_24_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.validators.minLength, $event) || (ctx_r3.selectedElement.validators.minLength = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.validators.minLength);\n  }\n}\nfunction BuilderComponent_div_46_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 67)(1, \"label\");\n    i0.ɵɵtext(2, \"Max Length\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 74);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_div_25_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.validators.maxLength, $event) || (ctx_r3.selectedElement.validators.maxLength = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.validators.maxLength);\n  }\n}\nfunction BuilderComponent_div_46_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 67)(1, \"label\");\n    i0.ɵɵtext(2, \"Min Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 74);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_div_26_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.validators.min, $event) || (ctx_r3.selectedElement.validators.min = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.validators.min);\n  }\n}\nfunction BuilderComponent_div_46_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 67)(1, \"label\");\n    i0.ɵɵtext(2, \"Max Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 74);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_div_27_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.validators.max, $event) || (ctx_r3.selectedElement.validators.max = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.validators.max);\n  }\n}\nfunction BuilderComponent_div_46_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 67)(1, \"label\");\n    i0.ɵɵtext(2, \"Pattern (regex)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 75);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_div_28_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.validators.pattern, $event) || (ctx_r3.selectedElement.validators.pattern = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.validators.pattern);\n  }\n}\nfunction BuilderComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 66)(1, \"div\", 67)(2, \"label\");\n    i0.ɵɵtext(3, \"Field ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 68);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.id, $event) || (ctx_r3.selectedElement.id = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 67)(6, \"label\");\n    i0.ɵɵtext(7, \"Label\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 69);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.label, $event) || (ctx_r3.selectedElement.label = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 67)(10, \"label\");\n    i0.ɵɵtext(11, \"Placeholder\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 70);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.placeholder, $event) || (ctx_r3.selectedElement.placeholder = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 67)(14, \"label\", 61)(15, \"input\", 71);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.required, $event) || (ctx_r3.selectedElement.required = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\");\n    i0.ɵɵtext(17, \"Required\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"div\", 67)(19, \"label\", 61)(20, \"input\", 71);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_46_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.selectedElement.disabled, $event) || (ctx_r3.selectedElement.disabled = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"span\");\n    i0.ɵɵtext(22, \"Disabled\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(23, BuilderComponent_div_46_div_23_Template, 4, 1, \"div\", 72)(24, BuilderComponent_div_46_div_24_Template, 4, 1, \"div\", 72)(25, BuilderComponent_div_46_div_25_Template, 4, 1, \"div\", 72)(26, BuilderComponent_div_46_div_26_Template, 4, 1, \"div\", 72)(27, BuilderComponent_div_46_div_27_Template, 4, 1, \"div\", 72)(28, BuilderComponent_div_46_div_28_Template, 4, 1, \"div\", 72);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.id);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.label);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.placeholder);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.required);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.selectedElement.disabled);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedElement.type === \"select\" || ctx_r3.selectedElement.type === \"radio\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedElement.type === \"text\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedElement.type === \"text\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedElement.type === \"number\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedElement.type === \"number\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedElement.type === \"text\");\n  }\n}\nfunction BuilderComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"div\", 77)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 78);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_51_Template_button_click_4_listener() {\n      const i_r19 = i0.ɵɵrestoreView(_r18).index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.removeRule(i_r19));\n    });\n    i0.ɵɵelement(5, \"i\", 79);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 67)(7, \"label\");\n    i0.ɵɵtext(8, \"Condition\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 80);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_51_Template_input_ngModelChange_9_listener($event) {\n      const rule_r20 = i0.ɵɵrestoreView(_r18).$implicit;\n      i0.ɵɵtwoWayBindingSet(rule_r20.if, $event) || (rule_r20.if = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 67)(11, \"label\");\n    i0.ɵɵtext(12, \"Action\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"select\", 81);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_51_Template_select_ngModelChange_13_listener($event) {\n      const rule_r20 = i0.ɵɵrestoreView(_r18).$implicit;\n      i0.ɵɵtwoWayBindingSet(rule_r20.then[0].action, $event) || (rule_r20.then[0].action = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(14, \"option\", 82);\n    i0.ɵɵtext(15, \"Show\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 83);\n    i0.ɵɵtext(17, \"Hide\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"option\", 84);\n    i0.ɵɵtext(19, \"Enable\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"option\", 85);\n    i0.ɵɵtext(21, \"Disable\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 67)(23, \"label\");\n    i0.ɵɵtext(24, \"Target Field ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"input\", 86);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_51_Template_input_ngModelChange_25_listener($event) {\n      const rule_r20 = i0.ɵɵrestoreView(_r18).$implicit;\n      i0.ɵɵtwoWayBindingSet(rule_r20.then[0].target, $event) || (rule_r20.then[0].target = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const rule_r20 = ctx.$implicit;\n    const i_r19 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Rule \", i_r19 + 1, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", rule_r20.if);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", rule_r20.then[0].action);\n    i0.ɵɵadvance(12);\n    i0.ɵɵtwoWayProperty(\"ngModel\", rule_r20.then[0].target);\n  }\n}\nfunction BuilderComponent_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 87)(1, \"div\", 88)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 78);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_58_Template_button_click_4_listener() {\n      const i_r22 = i0.ɵɵrestoreView(_r21).index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.removeComputed(i_r22));\n    });\n    i0.ɵɵelement(5, \"i\", 79);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 67)(7, \"label\");\n    i0.ɵɵtext(8, \"Target Field ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 86);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_58_Template_input_ngModelChange_9_listener($event) {\n      const comp_r23 = i0.ɵɵrestoreView(_r21).$implicit;\n      i0.ɵɵtwoWayBindingSet(comp_r23.target, $event) || (comp_r23.target = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 67)(11, \"label\");\n    i0.ɵɵtext(12, \"Expression\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"textarea\", 89);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_div_58_Template_textarea_ngModelChange_13_listener($event) {\n      const comp_r23 = i0.ɵɵrestoreView(_r21).$implicit;\n      i0.ɵɵtwoWayBindingSet(comp_r23.expr, $event) || (comp_r23.expr = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const comp_r23 = ctx.$implicit;\n    const i_r22 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Computed \", i_r22 + 1, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", comp_r23.target);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", comp_r23.expr);\n  }\n}\nfunction BuilderComponent_div_61_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 94)(1, \"div\", 95)(2, \"span\", 96);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 97);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 98);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_61_div_5_Template_button_click_7_listener() {\n      const version_r26 = i0.ɵɵrestoreView(_r25).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.revertToVersion(version_r26.payload == null ? null : version_r26.payload.version));\n    });\n    i0.ɵɵtext(8, \" Revert \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const version_r26 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate((version_r26.payload == null ? null : version_r26.payload.version) || \"Unknown\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 2, version_r26.at, \"medium\"));\n  }\n}\nfunction BuilderComponent_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 90);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_61_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.showVersionHistory = false);\n    });\n    i0.ɵɵelementStart(1, \"div\", 91);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_61_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Version History\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 92);\n    i0.ɵɵtemplate(5, BuilderComponent_div_61_div_5_Template, 9, 5, \"div\", 93);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function BuilderComponent_div_61_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.showVersionHistory = false);\n    });\n    i0.ɵɵtext(7, \"Close\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.formVersions);\n  }\n}\nexport let BuilderComponent = /*#__PURE__*/(() => {\n  class BuilderComponent {\n    constructor(store, db, themeService) {\n      this.store = store;\n      this.db = db;\n      this.themeService = themeService;\n      this.schema = {\n        title: 'New Form',\n        pages: [{\n          id: 'page-1',\n          title: 'Page 1',\n          elements: []\n        }],\n        rules: [],\n        computed: []\n      };\n      this.currentPageIndex = 0;\n      this.selectedElement = null;\n      this.currentFormId = null;\n      this.formVersions = [];\n      this.showVersionHistory = false;\n      // Field types for palette\n      this.fieldTypes = [{\n        type: 'text',\n        label: 'Text',\n        icon: '📝'\n      }, {\n        type: 'textarea',\n        label: 'Textarea',\n        icon: '📄'\n      }, {\n        type: 'number',\n        label: 'Number',\n        icon: '🔢'\n      }, {\n        type: 'date',\n        label: 'Date',\n        icon: '📅'\n      }, {\n        type: 'select',\n        label: 'Select',\n        icon: '📋'\n      }, {\n        type: 'radio',\n        label: 'Radio',\n        icon: '🔘'\n      }, {\n        type: 'checkbox',\n        label: 'Checkbox',\n        icon: '☑️'\n      }, {\n        type: 'file',\n        label: 'File',\n        icon: '📎'\n      }];\n      this.themeService.init();\n    }\n    ngOnInit() {\n      this.store.dispatch(loadForms());\n      this.loadExisting();\n    }\n    addField(type) {\n      const id = 'f' + Date.now();\n      const el = {\n        id,\n        type,\n        label: type.charAt(0).toUpperCase() + type.slice(1) + ' Field',\n        placeholder: '',\n        required: false,\n        disabled: false,\n        validators: {}\n      };\n      if (type === 'select' || type === 'radio') {\n        el.options = ['Option 1', 'Option 2', 'Option 3'];\n        el.optionsText = el.options.join(', ');\n      }\n      this.schema.pages[this.currentPageIndex].elements.push(el);\n    }\n    selectElement(element) {\n      this.selectedElement = element;\n      if (element.options && !element.optionsText) {\n        element.optionsText = element.options.join(', ');\n      }\n      if (!element.validators) {\n        element.validators = {};\n      }\n    }\n    updateOptions(el) {\n      el.options = (el.optionsText || '').split(',').map(s => s.trim()).filter(Boolean);\n    }\n    remove(i) {\n      const removed = this.schema.pages[this.currentPageIndex].elements[i];\n      if (this.selectedElement === removed) {\n        this.selectedElement = null;\n      }\n      this.schema.pages[this.currentPageIndex].elements.splice(i, 1);\n    }\n    moveUp(i) {\n      if (i > 0) {\n        const elements = this.schema.pages[this.currentPageIndex].elements;\n        [elements[i - 1], elements[i]] = [elements[i], elements[i - 1]];\n      }\n    }\n    moveDown(i) {\n      const elements = this.schema.pages[this.currentPageIndex].elements;\n      if (i < elements.length - 1) {\n        [elements[i], elements[i + 1]] = [elements[i + 1], elements[i]];\n      }\n    }\n    save() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          let idToUse = _this.currentFormId || 'form-' + Date.now();\n          let createdAt = new Date().toISOString();\n          if (_this.currentFormId) {\n            const existing = yield _this.db.getFormById(_this.currentFormId);\n            if (existing) {\n              createdAt = existing.createdAt;\n            }\n          }\n          const form = {\n            id: idToUse,\n            name: _this.schema.title || 'Untitled',\n            version: '1.0.0',\n            schema: _this.schema,\n            createdAt,\n            updatedAt: new Date().toISOString()\n          };\n          yield _this.db.saveForm(form);\n          _this.currentFormId = form.id;\n          _this.store.dispatch(loadForms());\n          alert('Form saved successfully! ID: ' + form.id);\n        } catch (e) {\n          alert('Failed to save form');\n        }\n      })();\n    }\n    loadExisting() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const forms = yield _this2.db.getAllForms();\n        if (forms && forms.length > 0) {\n          const sorted = [...forms].sort((a, b) => {\n            const au = new Date(a.updatedAt || a.createdAt || 0).getTime();\n            const bu = new Date(b.updatedAt || b.createdAt || 0).getTime();\n            return bu - au;\n          });\n          const form = sorted[0];\n          _this2.schema = form.schema;\n          _this2.currentFormId = form.id;\n          _this2.currentPageIndex = 0;\n          _this2.selectedElement = null;\n          yield _this2.loadFormVersions();\n        }\n      })();\n    }\n    loadFormVersions() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        if (_this3.currentFormId) {\n          _this3.formVersions = yield _this3.db.getFormVersions(_this3.currentFormId);\n        }\n      })();\n    }\n    addPage() {\n      const id = 'page-' + (this.schema.pages.length + 1);\n      this.schema.pages.push({\n        id,\n        title: 'Page ' + (this.schema.pages.length + 1),\n        elements: []\n      });\n    }\n    addRule() {\n      this.schema.rules.push({\n        if: '',\n        then: [{\n          action: 'show',\n          target: ''\n        }]\n      });\n    }\n    removeRule(index) {\n      this.schema.rules.splice(index, 1);\n    }\n    addComputed() {\n      this.schema.computed.push({\n        target: '',\n        expr: '',\n        dependencies: []\n      });\n    }\n    removeComputed(index) {\n      this.schema.computed.splice(index, 1);\n    }\n    resetDemo() {\n      if (confirm('Are you sure you want to reset all data? This will clear all forms and submissions and reload seed data.')) {\n        this.store.dispatch(resetData());\n      }\n    }\n    // Drag and drop handlers\n    dropField(event) {\n      if (event.previousContainer === event.container) {\n        moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n      } else {\n        transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n      }\n    }\n    dropFromPalette(event) {\n      const fieldType = event.item.data;\n      const newField = this.createField(fieldType.type);\n      event.container.data.splice(event.currentIndex, 0, newField);\n    }\n    createField(type) {\n      const id = 'f' + Date.now();\n      const el = {\n        id,\n        type,\n        label: type.charAt(0).toUpperCase() + type.slice(1) + ' Field',\n        placeholder: '',\n        required: false,\n        disabled: false,\n        validators: {}\n      };\n      if (type === 'select' || type === 'radio') {\n        el.options = ['Option 1', 'Option 2', 'Option 3'];\n        el.optionsText = el.options.join(', ');\n      }\n      return el;\n    }\n    // Keyboard navigation for accessibility\n    onKeyDown(event, index) {\n      if (event.key === 'ArrowUp' && index > 0) {\n        event.preventDefault();\n        this.moveUp(index);\n      } else if (event.key === 'ArrowDown' && index < this.schema.pages[this.currentPageIndex].elements.length - 1) {\n        event.preventDefault();\n        this.moveDown(index);\n      } else if (event.key === 'Delete' || event.key === 'Backspace') {\n        event.preventDefault();\n        this.remove(index);\n      }\n    }\n    bumpVersion() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this4.currentFormId) return;\n        try {\n          const newVersion = yield _this4.db.bumpVersion(_this4.currentFormId);\n          yield _this4.loadFormVersions();\n          alert(`Version bumped to ${newVersion}`);\n        } catch (e) {\n          alert('Failed to bump version');\n        }\n      })();\n    }\n    revertToVersion(version) {\n      var _this5 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this5.currentFormId) return;\n        if (!confirm(`Are you sure you want to revert to version ${version}?`)) return;\n        try {\n          yield _this5.db.revertToVersion(_this5.currentFormId, version);\n          yield _this5.loadExisting();\n          alert(`Reverted to version ${version}`);\n        } catch (e) {\n          alert('Failed to revert version');\n        }\n      })();\n    }\n    toggleVersionHistory() {\n      this.showVersionHistory = !this.showVersionHistory;\n    }\n    toggleLightMode() {\n      this.themeService.toggleLightMode();\n    }\n    static {\n      this.ɵfac = function BuilderComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || BuilderComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.IndexedDBService), i0.ɵɵdirectiveInject(i3.ThemeService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: BuilderComponent,\n        selectors: [[\"app-builder\"]],\n        decls: 62,\n        vars: 16,\n        consts: [[1, \"builder-container\"], [1, \"builder-header\"], [1, \"header-actions\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-info\", 3, \"click\", \"disabled\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"builder-layout\"], [1, \"palette-sidebar\"], [\"cdkDropList\", \"\", \"cdkDropListSortingDisabled\", \"true\", 1, \"field-palette\", 3, \"cdkDropListData\"], [\"class\", \"palette-item\", \"cdkDrag\", \"\", \"tabindex\", \"0\", \"role\", \"button\", 3, \"cdkDragData\", 4, \"ngFor\", \"ngForOf\"], [1, \"canvas-area\"], [1, \"form-settings\"], [\"type\", \"text\", \"placeholder\", \"Enter form title\", \"aria-label\", \"Form title\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"pages-tabs\"], [\"class\", \"page-tab\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"aria-label\", \"Add new page\", 1, \"page-tab\", \"add-page\", 3, \"click\"], [1, \"canvas-content\"], [1, \"page-title-edit\"], [\"type\", \"text\", \"placeholder\", \"Enter page title\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"cdkDropList\", \"\", \"cdkDropListOrientation\", \"vertical\", 1, \"form-elements\", 3, \"cdkDropListDropped\", \"cdkDropListData\"], [\"class\", \"form-element\", \"cdkDrag\", \"\", \"tabindex\", \"0\", \"role\", \"button\", 3, \"selected\", \"click\", \"keydown\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"empty-canvas\", 4, \"ngIf\"], [1, \"properties-sidebar\"], [\"class\", \"no-selection\", 4, \"ngIf\"], [\"class\", \"properties-form\", 4, \"ngIf\"], [1, \"rules-section\"], [1, \"rules-list\"], [\"class\", \"rule-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"computed-section\"], [1, \"computed-list\"], [\"class\", \"computed-item\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"version-history-modal\", 3, \"click\", 4, \"ngIf\"], [\"cdkDrag\", \"\", \"tabindex\", \"0\", \"role\", \"button\", 1, \"palette-item\", 3, \"cdkDragData\"], [1, \"palette-icon\"], [1, \"page-tab\", 3, \"click\"], [\"cdkDrag\", \"\", \"tabindex\", \"0\", \"role\", \"button\", 1, \"form-element\", 3, \"click\", \"keydown\"], [1, \"element-header\"], [1, \"element-type-badge\"], [1, \"element-label\"], [1, \"element-actions\"], [\"aria-label\", \"Move up\", 1, \"btn-icon\", 3, \"click\", \"disabled\"], [\"aria-label\", \"Move down\", 1, \"btn-icon\", 3, \"click\", \"disabled\"], [\"aria-label\", \"Delete field\", 1, \"btn-icon\", \"btn-danger\", 3, \"click\"], [1, \"element-preview\"], [\"class\", \"required\", 4, \"ngIf\"], [\"class\", \"form-control\", 3, \"type\", \"placeholder\", 4, \"ngIf\"], [\"class\", \"form-control\", 3, \"placeholder\", 4, \"ngIf\"], [\"class\", \"form-control\", 4, \"ngIf\"], [\"class\", \"radio-group\", 4, \"ngIf\"], [\"class\", \"checkbox-label\", 4, \"ngIf\"], [\"type\", \"file\", \"class\", \"form-control\", 4, \"ngIf\"], [1, \"required\"], [1, \"form-control\", 3, \"type\", \"placeholder\"], [1, \"form-control\", 3, \"placeholder\"], [1, \"form-control\"], [4, \"ngFor\", \"ngForOf\"], [1, \"radio-group\"], [\"class\", \"radio-label\", 4, \"ngFor\", \"ngForOf\"], [1, \"radio-label\"], [\"type\", \"radio\", 3, \"name\"], [1, \"checkbox-label\"], [\"type\", \"checkbox\"], [\"type\", \"file\", 1, \"form-control\"], [1, \"empty-canvas\"], [1, \"no-selection\"], [1, \"properties-form\"], [1, \"form-group\"], [\"type\", \"text\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Enter field label\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Enter placeholder text\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"checkbox\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"form-group\", 4, \"ngIf\"], [\"rows\", \"3\", \"placeholder\", \"Option 1, Option 2, Option 3\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"^[a-zA-Z]+$\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"rule-item\"], [1, \"rule-header\"], [1, \"btn-icon\", \"btn-danger\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [\"type\", \"text\", \"placeholder\", \"e.g., f3 === 'Other'\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"show\"], [\"value\", \"hide\"], [\"value\", \"enable\"], [\"value\", \"disable\"], [\"type\", \"text\", \"placeholder\", \"Field ID\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"computed-item\"], [1, \"computed-header\"], [\"rows\", \"2\", \"placeholder\", \"e.g., f6 * 12\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"version-history-modal\", 3, \"click\"], [1, \"version-history-content\", 3, \"click\"], [1, \"version-list\"], [\"class\", \"version-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"version-item\"], [1, \"version-info\"], [1, \"version-number\"], [1, \"version-date\"], [1, \"btn\", \"btn-sm\", \"btn-secondary\", 3, \"click\"]],\n        template: function BuilderComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n            i0.ɵɵtext(3, \"Form Builder\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 2)(5, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_5_listener() {\n              return ctx.toggleDarkMode();\n            });\n            i0.ɵɵtext(6, \"Toggle Theme\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_7_listener() {\n              return ctx.loadExisting();\n            });\n            i0.ɵɵtext(8, \"Load Existing\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"button\", 4);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_9_listener() {\n              return ctx.save();\n            });\n            i0.ɵɵtext(10, \"Save Form\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_11_listener() {\n              return ctx.bumpVersion();\n            });\n            i0.ɵɵtext(12, \"Bump Version\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_13_listener() {\n              return ctx.toggleVersionHistory();\n            });\n            i0.ɵɵtext(14, \"Version History\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_15_listener() {\n              return ctx.resetDemo();\n            });\n            i0.ɵɵtext(16, \"Reset Demo Data\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(17, \"div\", 7)(18, \"div\", 8)(19, \"h3\");\n            i0.ɵɵtext(20, \"Field Types\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"div\", 9);\n            i0.ɵɵtemplate(22, BuilderComponent_div_22_Template, 5, 4, \"div\", 10);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(23, \"div\", 11)(24, \"div\", 12)(25, \"label\");\n            i0.ɵɵtext(26, \" Form Title: \");\n            i0.ɵɵelementStart(27, \"input\", 13);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_Template_input_ngModelChange_27_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.schema.title, $event) || (ctx.schema.title = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(28, \"div\", 14);\n            i0.ɵɵtemplate(29, BuilderComponent_button_29_Template, 2, 4, \"button\", 15);\n            i0.ɵɵelementStart(30, \"button\", 16);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_30_listener() {\n              return ctx.addPage();\n            });\n            i0.ɵɵtext(31, \" + Add Page \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"div\", 17)(33, \"h3\");\n            i0.ɵɵtext(34);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(35, \"div\", 18)(36, \"label\");\n            i0.ɵɵtext(37, \" Page Title: \");\n            i0.ɵɵelementStart(38, \"input\", 19);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function BuilderComponent_Template_input_ngModelChange_38_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.schema.pages[ctx.currentPageIndex].title, $event) || (ctx.schema.pages[ctx.currentPageIndex].title = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(39, \"div\", 20);\n            i0.ɵɵlistener(\"cdkDropListDropped\", function BuilderComponent_Template_div_cdkDropListDropped_39_listener($event) {\n              return ctx.dropField($event);\n            });\n            i0.ɵɵtemplate(40, BuilderComponent_div_40_Template, 23, 15, \"div\", 21)(41, BuilderComponent_div_41_Template, 3, 0, \"div\", 22);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(42, \"div\", 23)(43, \"h3\");\n            i0.ɵɵtext(44, \"Properties\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(45, BuilderComponent_div_45_Template, 3, 0, \"div\", 24)(46, BuilderComponent_div_46_Template, 29, 11, \"div\", 25);\n            i0.ɵɵelementStart(47, \"div\", 26)(48, \"h3\");\n            i0.ɵɵtext(49, \"Conditional Rules\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(50, \"div\", 27);\n            i0.ɵɵtemplate(51, BuilderComponent_div_51_Template, 26, 4, \"div\", 28);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(52, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_52_listener() {\n              return ctx.addRule();\n            });\n            i0.ɵɵtext(53, \"+ Add Rule\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(54, \"div\", 29)(55, \"h3\");\n            i0.ɵɵtext(56, \"Computed Fields\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(57, \"div\", 30);\n            i0.ɵɵtemplate(58, BuilderComponent_div_58_Template, 14, 3, \"div\", 31);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(59, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function BuilderComponent_Template_button_click_59_listener() {\n              return ctx.addComputed();\n            });\n            i0.ɵɵtext(60, \"+ Add Computed Field\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵtemplate(61, BuilderComponent_div_61_Template, 8, 1, \"div\", 32);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"disabled\", !ctx.currentFormId);\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"cdkDropListData\", ctx.fieldTypes);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngForOf\", ctx.fieldTypes);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.schema.title);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.schema.pages);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate((ctx.schema.pages[ctx.currentPageIndex] == null ? null : ctx.schema.pages[ctx.currentPageIndex].title) || \"Page\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.schema.pages[ctx.currentPageIndex].title);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"cdkDropListData\", (ctx.schema.pages[ctx.currentPageIndex] == null ? null : ctx.schema.pages[ctx.currentPageIndex].elements) || i0.ɵɵpureFunction0(15, _c0));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngForOf\", ctx.schema.pages[ctx.currentPageIndex] == null ? null : ctx.schema.pages[ctx.currentPageIndex].elements);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !(ctx.schema.pages[ctx.currentPageIndex] == null ? null : ctx.schema.pages[ctx.currentPageIndex].elements == null ? null : ctx.schema.pages[ctx.currentPageIndex].elements.length));\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", !ctx.selectedElement);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedElement);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.schema.rules);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.schema.computed);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.showVersionHistory);\n          }\n        },\n        dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DatePipe, ReactiveFormsModule, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.CheckboxControlValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, FormsModule, i5.NgModel, DragDropModule, i6.CdkDropList, i6.CdkDrag],\n        encapsulation: 2,\n        changeDetection: 0\n      });\n    }\n  }\n  return BuilderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}